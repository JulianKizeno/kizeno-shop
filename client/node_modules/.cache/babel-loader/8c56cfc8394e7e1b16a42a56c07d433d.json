{"ast":null,"code":"var _jsxFileName = \"/Users/juliankizeno/Desktop/ironhack/labs/week8/final-project/kizeno-shop/client/src/components/pages/product-list/ProductList.js\";\nimport React, { Component } from 'react';\nimport ProductService from '../../../service/product.service';\nimport './ProductList.css';\nimport ProductCard from './ProductCard';\nimport ProductForm from '../product-form/ProductForm';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Button from 'react-bootstrap/Button';\nimport Toast from 'react-bootstrap/Toast';\nimport Modal from 'react-bootstrap/Modal';\n\nclass ProductList extends Component {\n  constructor() {\n    super();\n\n    this.handleModal = visible => this.setState({\n      modalShow: visible\n    });\n\n    this.handletoast = (visible, text = '') => {\n      const toastCopy = { ...this.state.toast\n      };\n      toastCopy.show = visible;\n      toastCopy.text = text;\n      this.setState({\n        toast: toastCopy\n      });\n    };\n\n    this.getAllProducts = () => {\n      this.productService.getProducts().then(response => this.setState({\n        products: response.data\n      })).catch(err => console.log(err));\n    };\n\n    this.componentDidMount = () => {\n      this.getAllProducts();\n    };\n\n    this.handleDelete = productId => {\n      this.productService.deleteProduct(productId).then(response => {\n        let products = [...this.state.products].filter(product => product._id !== response.data.deletedProduct);\n        this.setState({\n          products\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.handleUpdate = productId => {\n      this.productService.updateProduct(productId).then(response => {\n        let products = [...this.state.products].filter(product => product._id !== response.data.updatedProduct);\n        this.setState({\n          products\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.finishProductPost = () => {\n      this.getAllProducts();\n      this.handleModal(false);\n      this.handletoast(true, 'Registro creado en BBDD');\n    };\n\n    this.state = {\n      modalShow: false,\n      toast: {\n        show: false,\n        text: ''\n      },\n      products: []\n    };\n    this.productService = new ProductService();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      as: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, \"These are our Products\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.handleModal(true),\n      style: {\n        marginBottom: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, \"Create a new product\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.handleModal(true),\n      style: {\n        marginBottom: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, \"Edit product\"), /*#__PURE__*/React.createElement(Row, {\n      className: \"products-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, this.state.products.map(elm => /*#__PURE__*/React.createElement(ProductCard, Object.assign({\n      updateProduct: () => this.handleUpdate(elm._id),\n      deleteProduct: () => this.handleDelete(elm._id),\n      key: elm._id\n    }, elm, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 53\n      }\n    })))), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.modalShow,\n      onHide: () => this.handleModal(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(ProductForm, {\n      finishProductPost: this.finishProductPost,\n      closeModal: () => this.handleModal(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.modalShow,\n      onHide: () => this.handleModal(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(EditProductForm, {\n      finishProductPost: this.finishProductPost,\n      closeModal: () => this.handleModal(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Toast, {\n      onClose: () => this.handletoast(false),\n      show: this.state.toast.show,\n      delay: 3000,\n      autohide: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Toast.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"holder.js/20x20?text=%20\",\n      className: \"rounded mr-2\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"mr-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    }, \"Mensaje\")), /*#__PURE__*/React.createElement(Toast.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }\n    }, this.state.toast.text)));\n  }\n\n}\n\nexport default ProductList;","map":{"version":3,"sources":["/Users/juliankizeno/Desktop/ironhack/labs/week8/final-project/kizeno-shop/client/src/components/pages/product-list/ProductList.js"],"names":["React","Component","ProductService","ProductCard","ProductForm","Container","Row","Button","Toast","Modal","ProductList","constructor","handleModal","visible","setState","modalShow","handletoast","text","toastCopy","state","toast","show","getAllProducts","productService","getProducts","then","response","products","data","catch","err","console","log","componentDidMount","handleDelete","productId","deleteProduct","filter","product","_id","deletedProduct","handleUpdate","updateProduct","updatedProduct","finishProductPost","render","marginBottom","map","elm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport ProductService from '../../../service/product.service'\n\nimport './ProductList.css'\n\nimport ProductCard from './ProductCard'\nimport ProductForm from '../product-form/ProductForm'\n\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Button from 'react-bootstrap/Button'\nimport Toast from 'react-bootstrap/Toast'\nimport Modal from 'react-bootstrap/Modal'\n\n\nclass ProductList extends Component {\n\n    constructor() {\n        super()\n        this.state = {\n            modalShow: false,\n            toast: {\n                show: false,\n                text: ''\n            },\n            products: []\n        }\n        this.productService = new ProductService()\n    }\n\n\n    handleModal = visible => this.setState({ modalShow: visible })\n    handletoast = (visible, text = '') => {\n        const toastCopy = { ...this.state.toast }\n        toastCopy.show = visible\n        toastCopy.text = text\n        this.setState({ toast: toastCopy })\n    }\n\n    getAllProducts = () => {\n        this.productService.getProducts()\n            .then(response => this.setState({ products: response.data }))\n            .catch(err => console.log(err))\n    }\n\n\n    componentDidMount = () => {\n        this.getAllProducts()\n    }\n\n    handleDelete = (productId) =>{\n        this.productService.deleteProduct(productId)\n            .then(response => {\n                let products = [...this.state.products].filter(product => product._id !== response.data.deletedProduct)\n                this.setState({products})\n            })\n            .catch(err => console.log(err))\n    }\n\n    handleUpdate = (productId) =>{\n        this.productService.updateProduct(productId)\n            .then(response => {\n                let products = [...this.state.products].filter(product => product._id !== response.data.updatedProduct)\n                this.setState({products})\n            })\n            .catch(err => console.log(err))\n    }\n\n    finishProductPost = () => {\n        this.getAllProducts()\n        this.handleModal(false)\n        this.handletoast(true, 'Registro creado en BBDD')\n    }\n\n    render() {\n        return (\n            <Container as=\"section\">\n\n                <h1>These are our Products</h1>\n\n                <Button onClick={() => this.handleModal(true)}  style={{ marginBottom: '20px' }}>Create a new product</Button>\n                <Button onClick={() => this.handleModal(true)}  style={{ marginBottom: '20px' }}>Edit product</Button>\n\n                <Row className=\"products-list\">\n                    {this.state.products.map(elm => <ProductCard updateProduct={() => this.handleUpdate(elm._id)} deleteProduct={() => this.handleDelete(elm._id)} key={elm._id} {...elm} />)}\n                </Row>\n\n\n                <Modal show={this.state.modalShow} onHide={() => this.handleModal(false)}>\n                    <Modal.Body>\n                        <ProductForm finishProductPost={this.finishProductPost} closeModal={() => this.handleModal(false)} />\n                    </Modal.Body>\n                </Modal>\n\n                <Modal show={this.state.modalShow} onHide={() => this.handleModal(false)}>\n                    <Modal.Body>\n                        <EditProductForm finishProductPost={this.finishProductPost} closeModal={() => this.handleModal(false)} />\n                    </Modal.Body>\n                </Modal>\n\n                <Toast onClose={() => this.handletoast(false)} show={this.state.toast.show} delay={3000} autohide>\n                    <Toast.Header>\n                        <img src=\"holder.js/20x20?text=%20\" className=\"rounded mr-2\" alt=\"\" />\n                        <strong className=\"mr-auto\">Mensaje</strong>\n                    </Toast.Header>\n                    <Toast.Body>{this.state.toast.text}</Toast.Body>\n                </Toast>\n\n\n            </Container>\n        )\n    }\n}\n\nexport default ProductList"]},"metadata":{},"sourceType":"module"}